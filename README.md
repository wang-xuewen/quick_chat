# quick_chat

## 简介
  开发本软件的初衷是想解决服务器能访问外网，但不能被互联网其他服务器访问时，可以方便的把信息发送到外网其他服务器。
  后来想了下，可以做成一个简单的聊天通信工具，顺便也能解决上述问题。
## 主要功能点介绍：
- 服务端启动服务程序后，默认所有连接到服务器的客户端都可以在默认频道互相聊天。
所有进入默认频道的用户都可以看到彼此聊天内容。
- 如果有需要，客户端用户可以创建房间，但必须设置密码，其他用户可以通过房间名称和密码加入房间。
房间名称和密码可以被创建房间的用户修改。房间内的聊天内容只能被加入到房间的用户看到，
用户进入房间频道后，此时看不到默认频道的内容，必须退出房间后才能看到。
每次进入房间频道或默认频道，都可以看到该频道最近5条内容，并且可以通过命令查看历史消息。
- 每个用户每次说话间隔是2秒钟，2秒钟之内不能连续发消息。
- 服务端可以通过命令，禁用某用户一段时间，或者永久禁用该ip。
- 如果房间3个月没有任何活动（包括登陆和历史聊天记录），该房间将会被自动删除。
- 所有聊天记录会被保留3个月。
- 客户端支持自动重连。
- 客户端使用昵称来唯一区分用户。


## 服务端启动时参数说明
用法：
  ./quick_chat_s -k xxx
说明：
  -k: 指定一个key。客户端启动时必须指定相同的key才能连接到服务端。

## 消息体命令定义
客户端和服务端所有通信内容都被封装在QcMessage消息体中，QcMessage定义请见quick_chat_lib的QcMessage定义
这里只说明QcMessage中的cmd字段有哪些命令定义。定义如下：
00000：用户发送聊天消息到服务端
00001：客户端向服务端发送认证请求
10000：服务端发送消息到客户端
